 export interface ClientPatch {
    address: number
    values: number[]
}

export interface ClientPatchCat {
    name: string
    patches: ClientPatch[]
}

export function patch(name: string, patches: [number,number[]][]): ClientPatchCat
{
    return {name,patches:patches.map(x=>({address:x[0],values:x[1]}))}
}

export const EXTENSION_DLL_PATCH_NAME = 'client-extensions'
export const ITEM_DBC_DISABLER_PATCH_NAME = 'item-dbc-disabler'
export const FIX_COMBO_POINT_PATCH_NAME = 'fix-combo-points'

export function ClientPatches(
    gamebuild: number
    , roles: {class:number,tank:number,healer:number,damage:number,leader:number}[]
    ) {
        let rolemask: number[] = new Array(32).fill(0)
        roles.forEach(x=>{
            rolemask[x.class-1] =
              (x.leader ? 1 : 0)
            | (x.tank   ? 2 : 0)
            | (x.healer ? 4 : 0)
            | (x.damage ? 8 : 0)
        })
        return [
            patch('large-address-aware',[
                [0x000126,[0x23]]
            ]),
            patch('view-distance-unlock',[
                //[0x014137,[0x10,0x27]],
                //[0x4c99f0,[0x34]],
                [0x63cf0c,[
                    0x00,0x40,0x1c,0x46,0x00,0x40,0x1c,0x46
                ]],
            ]),
            patch(FIX_COMBO_POINT_PATCH_NAME,[
                [0x210b12,[
                    0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90
                ]],
            ]),
            patch('allow-custom-gluexml',[
                [0x126,[0x23]],
                [0x1f41bf,[0xeb]],
                [0x415a25,[0xeb]],
                [0x415a3f,[0x3]],
                [0x415a95,[0x3]],
                [0x415b46,[0xeb]],
                [0x415b5f,[0xb8,0x03]],
                [0x415b61,[0x0,0x0,0x0,0xeb,0xed]],
            ]),
            patch('unlimited race/class pairs patch', [
                [0xe0355,[0x78]],
                [0xe038e,[0x88]],
                [0xe03a3,[0x88]],
                [0xe03c3,[0x88]],
            ]),
            patch('class roles',[
                // role mask cave
                [0x005E1A37,[0,...rolemask]],
                // xrefs
                [0x151d48,[0x37,0x32,0x9E,0x00]],
                [0x152f7d,[0x37,0x32,0x9E,0x00]],
                [0x152f94,[0x37,0x32,0x9E,0x00]],
                [0x1531e7,[0x37,0x32,0x9E,0x00]],
                [0x153d22,[0x37,0x32,0x9E,0x00]],
            ]),
            // from https://model-changing.net/index.php?app=downloads&module=downloads&controller=view&id=314
            // credits to kebabstorm, original tbc version by BenjaminLSR and rajkosto
            patch(ITEM_DBC_DISABLER_PATCH_NAME,[
                [0x168,[0x5a,0xc5,0x75]],
                [0x11646d,[0x56,0x89,0xe1,0xe8,0xdb,0x1d,0x24,0x0,0x83,0xc4,0x4,0x89,0xc6,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90]],
                [0x1164ac,[0x89,0xf1,0x90]],
                [0x1223f7,[0x56,0x89,0xe1,0xe8,0x51,0x5e,0x23,0x0,0x83,0xc4,0x4,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90]],
                [0x122419,[0x89,0xc7,0x90]],
                [0x1a54ef,[0x90,0x90,0x90,0x90,0x90,0x90,0x8d,0x4d,0xf4]],
                [0x1a54f9,[0x53,0x2d,0x1b]],
                [0x1a5528,[0x90,0x90,0x90]],
                [0x1a552c,[0x45,0xf4]],
                [0x1a572e,[0x90,0x90,0x90,0x90,0x90,0x90,0x89,0xd9]],
                [0x1a5737,[0x15,0x2b,0x1b]],
                [0x1a575c,[0x90,0x90,0x90]],
                [0x1a5760,[0x4d,0xf8]],
                [0x1a7cf5,[0x83,0xc4,0x4,0x56,0x89,0xe1,0xe8,0xd0,0x4,0x1b,0x0,0x83,0xc4,0x4,0xeb,0x17,0xcc,0x89,0xc3,0x89,0xe1,0xe8,0x41,0x5,0x1b]],
                [0x1a7d0f,[0x83,0xc4,0x4,0xe9,0x6b,0x33,0x0,0x0,0xcc,0xcc,0xcc,0xcc,0xcc,0x85,0xc0]],
                [0x1a8c8e,[0x89,0xe1,0xe8,0xbb,0xf5,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1a8c9c,[0x90,0x90,0x90]],
                [0x1aa6d4,[0x89,0xe1,0xe8,0x75,0xdb,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aa6e2,[0x90,0x90,0x90]],
                [0x1aa821,[0x90,0x8d,0x4d,0x8,0xe8,0xa6,0xd9,0x1a]],
                [0x1aa82a,[0x8b,0xf8,0xe9,0x67,0xbe,0x15,0x0]],
                [0x1aa832,[0xc0]],
                [0x1aa86c,[0x90,0x89,0xf8]],
                [0x1aa8a2,[0x89,0xe1,0xe8,0xa7,0xd9,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aa8b0,[0x90,0x90,0x90]],
                [0x1aa9d0,[0x89,0xe1,0xe8,0x79,0xd8,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aa9de,[0x90,0x90,0x90]],
                [0x1aaafa,[0x89,0xe1,0xe8,0x4f,0xd7,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aab08,[0x90,0x90,0x90]],
                [0x1ab076,[0x89,0xe1,0xe8,0x53,0xd1,0x1a,0x0,0xe9,0x84,0xcc,0xff,0xff]],
                [0x1ab083,[0xc0]],
                [0x1ab0a9,[0x90,0x90,0x85,0xdb]],
                [0x1ab316,[0x89,0xe1,0xe8,0x33,0xcf,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1ab324,[0x90,0x90,0x90]],
                [0x306614,[0x8b,0x41,0x8,0x8d,0x48,0xc,0xe9,0x11,0x1b,0x5,0x0]],
                [0x306620,[0xeb,0xf2,0xcc,0xcc,0xcc,0xcc]],
                [0x306650,[0xeb,0x3a,0xcc,0xcc,0xcc,0xcc]],
                [0x306683,[0x8d,0x48]],
                [0x306686,[0xe9,0x45,0x1b,0x5,0x0,0xcc,0x8b,0x41,0x8,0x8d,0x48,0xc,0xe9,0xe9,0x1a,0x5,0x0,0xcc,0x8d,0x4d,0x8,0xe8,0xb0,0x1b,0x5]],
                [0x3066a0,[0xe9,0x8c,0x41,0xea,0xff,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc]],
                [0x306703,[0x8d,0x48]],
                [0x306706,[0xe9,0x45,0x1b,0x5,0x0,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc]],
                [0x306733,[0x8d,0x48]],
                [0x306736,[0xe9,0x15,0x1c,0x5,0x0,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc]],
                [0x309e03,[0x8d,0x48]],
                [0x309e06,[0xe8,0x45,0xe4,0x4,0x0,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90]],
                [0x358136,[0x56,0x8b,0x31,0x89,0xf0]],
                [0x35813c,[0x1,0x99,0x6a,0x0,0x68,0x70,0xeb,0x5e,0x0,0x33,0xc2,0x8d,0x4d,0xf8,0x51,0x2b,0xc2,0x50,0xb9,0x28,0xd8,0xc5,0x0,0xc7,0x45,0xf8]],
                [0x358157,[0x0,0x0,0x0,0xc7,0x45,0xfc]],
                [0x35815e,[0x0,0x0,0x0,0xe8,0xca,0x3c,0xf2,0xff,0x85,0xc0,0x74,0x8]],
                [0x35816b,[0x40,0x4,0x5e,0x8b,0xe5,0x5d,0xc3,0x89,0xf0,0x5e,0x89,0xec,0x5d,0xe9,0xa9,0xe4,0xfa,0xff]],
                [0x358186,[0x56,0x8b,0x31,0x89,0xf0]],
                [0x35818c,[0x1,0x99,0x6a,0x0,0x68,0x70,0xeb,0x5e,0x0,0x33,0xc2,0x8d,0x4d,0xf8,0x51,0x2b,0xc2,0x50,0xb9,0x28,0xd8,0xc5,0x0,0xc7,0x45,0xf8]],
                [0x3581a7,[0x0,0x0,0x0,0xc7,0x45,0xfc]],
                [0x3581ae,[0x0,0x0,0x0,0xe8,0x7a,0x3c,0xf2,0xff,0x85,0xc0,0x74]],
                [0x3581bb,[0x40,0x8,0x5e,0x8b,0xe5,0x5d,0xc3,0x89,0xf0,0x5e,0x89,0xec,0x5d,0xe9,0x89,0xe4,0xfa,0xff]],
                [0x61be58,[0x7c,0x7c]]
            ]),
            patch(EXTENSION_DLL_PATCH_NAME,[
                // stage
                [0x28e19c,[
                    // Jump to hook (replaces "LoadLibraryA")
                    0xE9,0x19,0x57,0x0E,0x00,
                    // pad old instruction
                    0x90
                ]],

                // cave
                [0x3738b8,[
                    // short jump 26 bytes (past code cave)
                    0xEB, 0x26,
                    // call "LoadLibraryA" (for d3d9.dll) (this is what we jump to)
                    0xFF, 0x15, 0x48, 0xF2, 0x9D, 0x00,
                    // push all registers
                    0x60,
                    // push "ClienbtExtensions.dll" string (see below)
                    0x68, 0x71, 0x42, 0x9E, 0x00,
                    // call "LoadLibraryA" (for ClientExtensions.dll)
                    0xFF, 0x15, 0x48, 0xF2, 0x9D, 0x00,
                    // pop all registers
                    0x61,
                    // jump back
                    0xE9, 0xD0, 0xA8, 0xF1, 0xFF
                ]],
                // "ClientExtensions.dll" string
                [0x5e2a71,[0x43,0x6C,0x69,0x65,0x6E,0x74,0x45,0x78,0x74,0x65,0x6E,0x73,0x69,0x6F,0x6E,0x73,0x2E,0x64,0x6C,0x6C]]
            ]),
            patch('gamebuild',[
                [0x4c99f0,[
                    gamebuild&0xff,
                    (gamebuild>>8)&0xff
                ]]
            ]),
            patch('no-ammo-check', [ // credits to Aleist3r
                [0x408940, [0xE9, 0xBA, 0x00, 0x00, 0x00, 0x90, 0x90]]
            ]),
            patch('windowed-mode-gamma-fix', [ // credits to Robinsch
                [0xE94, [0xEB]]
            ]),
            patch('melee-swing-right-click', [ // credits to Robinsch
                [0x2E1C67, [0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90]]
            ]),
            patch('npc-turn-attack-anim', [ // credits to Robinsch
                [0x33D7C9, [0xEB]]
            ]),
            patch('npc-evade-ghost-attack', [ // credits to Robinsch
                [0x355BF, [0xEB]]
            ]),
            patch('non-throttled-item-cache-wdb-requests', [ // credits to Robinsch
                [0x2689FD, [0x00, 0x00]]
            ]),
            patch('patch-area-trigger-timer', [ // credits to Robinsch
                [0x2DB241, [0x32]]
            ]),
            patch('patch-mail-request-timeout', [ // credits to Robinsch
                [0x16D899, [0x05, 0x01, 0x00, 0x00, 0x00]]
            ]),
            patch('missing-pre-cast-animation', [ // credits to Robinsch
                [0x33E0D6, [0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90]]
            ]),
            patch('naked-character-issue', [ // credits to Robinsch
                [0x1DDC5D, [0xEB]]
            ]),
            patch('allow-chat-commands-while-dead', [ // credits to Robinsch
                [0x10CA41, [0xEB]]
            ]),
            patch('mouse-flickering-camera-snapping', [ // credits to bonbigz
                [0x469A2C, [0xE9, 0x71, 0xF0, 0x0B, 0x00, 0xF8, 0x13, 0xD4, 0x00, 0x8B, 0x1D, 0xFC]],
                [0x528AA2, [0x8D, 0x4D, 0xF0, 0x51, 0x57, 0xFF, 0x15, 0xDC, 0xF5, 0x9D, 0x00, 0x8B, 0x45, 0xF0, 0x8B, 0x15, 0xF8, 0x13, 0xD4, 0x00, 0xE9, 0x7A, 0x0F, 0xF4, 0xFF]],
                [0x4691B1, [0x89, 0xE5, 0x8B, 0x05, 0xFC, 0x13, 0xD4, 0x00, 0x8B, 0x0D, 0xF8, 0x13, 0xD4, 0x00, 0xEB, 0xC2, 0x7D, 0x03, 0x83, 0xC1, 0x01, 0x83, 0xC0, 0x32, 0x83, 0xC1, 0x32, 0x3B, 0x0D, 0xEC, 0xBC, 0xCA, 0x00, 0x7E, 0x03, 0x83, 0xE9, 0x01, 0x3B, 0x05, 0xF0, 0xBC, 0xCA, 0x00, 0x7E, 0x03, 0x83, 0xE8, 0x01, 0x83, 0xE9, 0x32, 0x83, 0xE8, 0x32, 0x89, 0x0D, 0xF8, 0x13, 0xD4, 0x00, 0x89, 0x05, 0xFC, 0x13, 0xD4, 0x00, 0x89, 0xEC, 0x5D, 0xE9, 0xB4, 0xF7, 0xFF, 0xFF, 0xEC, 0x5D, 0xC3, 0xC3]],
                [0x469183, [0x83, 0xF8, 0x32, 0x7D, 0x03, 0x83, 0xC0, 0x01, 0x83, 0xF9, 0x32, 0xEB, 0x31]]
            ]),
            patch('tooltip-rune-cost', [
                // Aleist3r: this NOP part is based on stuff Robinsch did in exe provided in WoWFix335 repository so credits to him
				// https://github.com/robinsch/WoWFix335
                [0x46F28F, [0x90, 0x90, 0x90, 0x90]],
				// Aleist3r: from here's my work I guess ;]
                // some additional changes to string display for original runes
                [0x2230CA, [0x42]],
                [0x22312C, [0x42]],
                // stage
                [0x223069, [
	                // jump to code cave at 0x46F29A
	                0xE9, 0x2C, 0xC2, 0x24, 0x00,
	                // padding remains
	                0x90, 0x90, 0x90
                ]],
                // cave
                [0x46F29A, [
	                // start with instructions patched out by jmp
	                0x85, 0xF6, 0x0F, 0x84, 0x3C, 0x40, 0xDB, 0xFF,
	                // new stuff
	                0x8B, 0x85, 0xB8, 0xFD, 0xFF, 0xFF, 0x83, 0xF8, 0x0F, 0x0F, 0x85, 0xC0, 0x3D, 0xDB, 0xFF, 0x8B,
                    0x46, 0x04, 0x85, 0xC0, 0x0F, 0x84, 0x22, 0x40, 0xDB, 0xFF, 0x50, 0x6A, 0x00, 0x6A, 0xFF, 0x68,
                    0x60, 0x42, 0x9E, 0x00, 0xE8, 0x75, 0x9E, 0xFA, 0xFF, 0x83, 0xC4, 0x0C, 0x50, 0x8D, 0x85, 0xA0,
                    0xFE, 0xFF, 0xFF, 0x68, 0x80, 0x00, 0x00, 0x00, 0x50, 0xE8, 0x90, 0xF1, 0xEF, 0xFF, 0x83, 0xC4,
                    0x10, 0x68, 0xFF, 0xFF, 0xFF, 0x7F, 0x8D, 0x8D, 0xA0, 0xFE, 0xFF, 0xFF, 0x51, 0x8D, 0x95, 0x20,
                    0xFF, 0xFF, 0xFF, 0x52, 0xE8, 0x75, 0xF0, 0xEF, 0xFF, 0x83, 0x7E, 0x04, 0x01, 0x74, 0x16, 0x68,
                    0xFF, 0xFF, 0xFF, 0x7F, 0x68, 0x54, 0x42, 0x9E, 0x00, 0x8D, 0x85, 0x20, 0xFF, 0xFF, 0xFF, 0x50,
                    0xE8, 0x59, 0xF0, 0xEF, 0xFF, 0x8B, 0x46, 0x10, 0x83, 0xF8, 0x00, 0x0F, 0x8D, 0xBB, 0x3F, 0xDB,
                    0xFF, 0x68, 0xFF, 0xFF, 0xFF, 0x7F, 0x68, 0x50, 0x42, 0x9E, 0x00, 0x8D, 0x85, 0x20, 0xFF, 0xFF,
                    0xFF, 0x50, 0xE8, 0x37, 0xF0, 0xEF, 0xFF, 0x31, 0xC9, 0x8B, 0x46, 0x10, 0x48, 0x49, 0x31, 0xC8,
                    0x31, 0xD2, 0x83, 0xC1, 0x0B, 0xF7, 0xF1, 0x50, 0x6A, 0x00, 0x6A, 0xFF, 0x68, 0xE4, 0x59, 0xA2,
                    0x00, 0xE8, 0xE8, 0x9D, 0xFA, 0xFF, 0x83, 0xC4, 0x0C, 0x50, 0x8D, 0x85, 0xA0, 0xFE, 0xFF, 0xFF,
                    0x68, 0x80, 0x00, 0x00, 0x00, 0x50, 0xE8, 0x03, 0xF1, 0xEF, 0xFF, 0x83, 0xC4, 0x10, 0x68, 0xFF,
                    0xFF, 0xFF, 0x7F, 0x8D, 0x8D, 0xA0, 0xFE, 0xFF, 0xFF, 0x51, 0x8D, 0x95, 0x20, 0xFF, 0xFF, 0xFF,
                    0x52, 0xE8, 0xE8, 0xEF, 0xEF, 0xFF, 0xE9, 0x51, 0x3F, 0xDB, 0xFF,
                    // padding remains
                    0x90
                ]],
                // " + " string
                [0x5E2A50, [0x20, 0x2B, 0x20]],
                // "s" string
                [0x5E2A54, [0x73]],
                // "RUNE_COST_DEATH" string
                [0x5E2A60, [0x52, 0x55, 0x4E, 0x45, 0x5F, 0x43, 0x4F, 0x53, 0x54, 0x5F, 0x44, 0x45, 0x41, 0x54, 0x48]]
            ]),
            patch('get-selected-background-model-dehardcoding', [
                // Aleist3r: technically it could've been done in just 3 jumps but it did leave a lot of dead code
                // this way it consolidates used code and makes single chunk of free space after last 0xC3 up to end of 0xCC array
                [0xE2A83, [0x25]],
                [0xE2A8B, [0x1D]],
                [0xE2A95, [
                    0x0F, 0xB6, 0x80, 0x78, 0x01, 0x00, 0x00, 0x50, 0xB9, 0x40, 0x34, 0xAD, 0x00, 0xE8, 0xE9, 0x8B,
                    0x17, 0x00, 0xEB, 0x23, 0xA1, 0x38, 0x34, 0xAD, 0x00, 0x83, 0xF8, 0x02, 0x7F, 0x33, 0x83, 0x3D,
                    0x34, 0x34, 0xAD, 0x00, 0x02, 0x7C, 0x2A, 0x8B, 0x15, 0x48, 0x34, 0xAD, 0x00, 0xB9, 0x02, 0x00,
                    0x00, 0x00, 0x2B, 0xC8, 0x8B, 0x04, 0x8A, 0x85, 0xC0, 0x74, 0x16, 0x8B, 0x40, 0x2C, 0x50, 0x57,
                    0xE8, 0x76, 0xAC, 0x36, 0x00, 0x83, 0xC4, 0x08, 0x5E, 0xB8, 0x01, 0x00, 0x00, 0x00, 0x5F, 0x5D,
                    0xC3, 0xB8, 0xFF, 0x14, 0x9E, 0x00, 0x50, 0x57, 0xE8, 0xE5, 0xAC, 0x36, 0x00, 0x83, 0xC4, 0x08,
                    0x5E, 0xB8, 0x01, 0x00, 0x00, 0x00, 0x5F, 0x5D, 0xC3
                ]],
                // padding remains
                [0xE2AFE, [0x90, 0x90, 0x90, 0x90]]
            ]),
            // Aleist3r: commenting it out for now, if you grabbed modified exe, can safely uncomment it and line 227 in Client.ts as well as comment out line 226
            // later will probably be made into proper part of ClientExtensions.dll instead this kinda hacky approach
            /*patch('additional-cost-dbc', [
                // Aleist3r: keep in mind this patch requires expanded exe alongside with some changes in Client.ts, otherwise it theows out of range
                // Some detours in original functions
                // Note, new section has different starting offset so you may see some numbers that doesn't add up
                // (you need to add 0x6A5400 instead of 0x400C00 to get correct addresses in that part)
                [0x223194, [0xDB, 0x98, 0x7D]],
                [0x2231FB, [0x6E, 0x97, 0x7D]],
                [0x223247, [0x22, 0x97, 0x7D]],
                [0x22329F, [0xE9, 0xBC, 0x96, 0x7D, 0x00]],
                [0x2232D6, [0xE9, 0x8A, 0x96, 0x7D, 0x00, 0x90, 0x90, 0x90]],
                [0x233B7C, [0xE9, 0x7F, 0x88, 0x7C, 0x00, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC]],
                // Aleist3r: here starts patch part that's out of range for unmodified Client.ts as well as Wow.exe
                // A bunch of functions, since I have more space to use they're aligned same way compiler would
                // Also references some strings added by tooltip rune patch
                // dbc loader part
                [0x757C00, [
                    0x68, 0xD7, 0x01, 0x00, 0x00, 0x68, 0x8C, 0x6E, 0xA2, 0x00, 0xB9, 0x20, 0x51, 0xAD, 0x00, 0xFF,
                    0xD6, 0x68, 0xD8, 0x01, 0x00, 0x00, 0x68, 0x8C, 0x6E, 0xA2, 0x00, 0xB9, 0x00, 0x20, 0xE0, 0x00,
                    0xFF, 0xD6, 0xC3
                ]],
                [0x757C30, [0x83, 0xE9, 0x18, 0xEB, 0x4B]],
                [0x757C40, [
                    0x55, 0x8B, 0xEC, 0x8B, 0x45, 0x08, 0x85, 0xC0, 0x7C, 0x2D, 0x3B, 0x41, 0x08, 0x7D, 0x28, 0xC1,
                    0xE0, 0x04, 0x03, 0x41, 0x1C, 0x8B, 0x4D, 0x0C, 0x8B, 0x10, 0x89, 0x11, 0x8B, 0x50, 0x04, 0x89,
                    0x51, 0x04, 0x8B, 0x50, 0x08, 0x89, 0x51, 0x08, 0x8B, 0x40, 0x0C, 0x89, 0x41, 0x0C, 0xB8, 0x01,
                    0x00, 0x00, 0x00, 0x5D, 0xC2, 0x08, 0x00, 0x33, 0xC0, 0x5D, 0xC2, 0x08, 0x00
                ]],
                [0x757C80, [
                    0x55, 0x8B, 0xEC, 0x56, 0x8B, 0xF1, 0x83, 0x7E, 0x04, 0x00, 0xC7, 0x06, 0x08, 0x10, 0xE0, 0x00,
                    0xC7, 0x46, 0x18, 0x00, 0x10, 0xE0, 0x00, 0x74, 0x05, 0xE8, 0x32, 0x00, 0x00, 0x00, 0xF6, 0x45,
                    0x08, 0x01, 0xC7, 0x46, 0x18, 0x48, 0x70, 0xA2, 0x00, 0xC7, 0x06, 0x08, 0x44, 0xA9, 0x00, 0x74,
                    0x0F, 0x6A, 0x00, 0x6A, 0xFF, 0x68, 0x0C, 0x0E, 0x9E, 0x00, 0x56, 0xE8, 0xE0, 0x14, 0x97, 0xFF,
                    0x8B, 0xC6, 0x5E, 0x5D, 0xC2, 0x04, 0x00
                ]],
                [0x757CD0, [
                    0x56, 0x57, 0x8B, 0xF1, 0x33, 0xFF, 0x39, 0x7E, 0x08, 0x7E, 0x1B, 0x53, 0x33, 0xDB, 0x8B, 0xFF,
                    0x8B, 0x4E, 0x1C, 0x03, 0xCB, 0xE8, 0x86, 0x1A, 0x7F, 0xFF, 0x83, 0xC7, 0x01, 0x83, 0xC3, 0x10,
                    0x3B, 0x7E, 0x08, 0x7C, 0xEB, 0x5B, 0x8B, 0x46, 0x1C, 0x6A, 0x00, 0x68, 0xA8, 0x01, 0x00, 0x00,
                    0x68, 0x50, 0x70, 0xA2, 0x00, 0x50, 0xE8, 0x95, 0x14, 0x97, 0xFF, 0x8B, 0x46, 0x20, 0x33, 0xFF,
                    0x3B, 0xC7, 0x89, 0x7E, 0x1C, 0x74, 0x0E, 0x57, 0x6A, 0xFF, 0x68, 0x18, 0x0E, 0x9E, 0x00, 0x50,
                    0xE8, 0x7B, 0x14, 0x97, 0xFF, 0x8B, 0x46, 0x14, 0x3B, 0xC7, 0x89, 0x7E, 0x20, 0x74, 0x0C, 0x57,
                    0x57, 0x57, 0x50, 0xE8, 0x68, 0x14, 0x97, 0xFF, 0x89, 0x7E, 0x14, 0x5F, 0x5E, 0xC3
                ]],
                [0x757D40, [0xB8, 0x30, 0x10, 0xE0, 0x00, 0xC3]],
                [0x757D50, [
                    0x55, 0x8B, 0xEC, 0x8B, 0x45, 0x10, 0x53, 0x56, 0x57, 0x6A, 0x00, 0x8B, 0xF1, 0x8B, 0x4D, 0x0C,
                    0x8B, 0x56, 0x08, 0x50, 0x51, 0xC1, 0xE2, 0x04, 0x52, 0xE8, 0xD2, 0x13, 0x97, 0xFF, 0x33, 0xDB,
                    0x39, 0x5E, 0x08, 0x89, 0x46, 0x1C, 0x7E, 0x54, 0x33, 0xFF, 0x8D, 0x9B, 0x00, 0x00, 0x00, 0x00,
                    0x8B, 0x4E, 0x1C, 0x03, 0xCF, 0x74, 0x05, 0xE8, 0x14, 0xAC, 0xAB, 0xFF, 0x8B, 0x46, 0x14, 0x8B,
                    0x4D, 0x08, 0x50, 0x51, 0x8B, 0x4E, 0x1C, 0x03, 0xCF, 0xE8, 0x02, 0x03, 0x00, 0x00, 0x8B, 0x56,
                    0x1C, 0x8B, 0x0C, 0x17, 0x8D, 0x04, 0x17, 0x8B, 0x56, 0x0C, 0x3B, 0xCA, 0x7F, 0x02, 0x8B, 0xCA,
                    0x89, 0x4E, 0x0C, 0x8B, 0x00, 0x8B, 0x4E, 0x10, 0x3B, 0xC1, 0x7C, 0x02, 0x8B, 0xC1, 0x83, 0xC3,
                    0x01, 0x89, 0x46, 0x10, 0x83, 0xC7, 0x10, 0x3B, 0x5E, 0x08, 0x7C, 0xB4, 0x8B, 0x46, 0x0C, 0x2B,
                    0x46, 0x10, 0x33, 0xC9, 0x83, 0xC0, 0x01, 0xBA, 0x04, 0x00, 0x00, 0x00, 0xF7, 0xE2, 0x0F, 0x90,
                    0xC1, 0x6A, 0x00, 0x68, 0xC7, 0x01, 0x00, 0x00, 0x68, 0x50, 0x70, 0xA2, 0x00, 0xF7, 0xD9, 0x0B,
                    0xC1, 0x50, 0xE8, 0x49, 0x13, 0x97, 0xFF, 0x8B, 0x4E, 0x0C, 0x2B, 0x4E, 0x10, 0x89, 0x46, 0x20,
                    0x8D, 0x14, 0x8D, 0x04, 0x00, 0x00, 0x00, 0x52, 0x6A, 0x00, 0x50, 0xE8, 0x70, 0xE9, 0x60, 0xFF,
                    0x33, 0xC9, 0x83, 0xC4, 0x0C, 0x39, 0x4E, 0x08, 0x7E, 0x22, 0x33, 0xD2, 0x8D, 0x64, 0x24, 0x00,
                    0x8B, 0x46, 0x1C, 0x8B, 0x3C, 0x10, 0x2B, 0x7E, 0x10, 0x8B, 0x5E, 0x20, 0x03, 0xC2, 0x83, 0xC1,
                    0x01, 0x89, 0x04, 0xBB, 0x83, 0xC2, 0x10, 0x3B, 0x4E, 0x08, 0x7C, 0xE4, 0x5F, 0x5E, 0x5B, 0x5D,
                    0xC2, 0x0C, 0x00
                ]],
                [0x757E50, [
                    0x55, 0x8B, 0xEC, 0x83, 0xEC, 0x14, 0x56, 0x8B, 0xF1, 0x83, 0x7E, 0x04, 0x00, 0x74, 0x1A, 0xE8,
                    0xDC, 0xFE, 0xFF, 0xFF, 0x50, 0x68, 0xCC, 0x25, 0x9E, 0x00, 0xE8, 0x01, 0x19, 0x7F, 0xFF, 0x83,
                    0xC4, 0x08, 0x5E, 0x8B, 0xE5, 0x5D, 0xC2, 0x08, 0x00, 0x8D, 0x45, 0xFC, 0x50, 0x68, 0x00, 0x00,
                    0x02, 0x00, 0xE8, 0xB9, 0xFE, 0xFF, 0xFF, 0x50, 0x6A, 0x00, 0xE8, 0xC1, 0x78, 0x62, 0xFF, 0x85,
                    0xC0, 0x75, 0x18, 0xE8, 0xA8, 0xFE, 0xFF, 0xFF, 0x50, 0x68, 0xB8, 0x25, 0x9E, 0x00, 0x68, 0x79,
                    0x00, 0x10, 0x85, 0xE8, 0xD8, 0x57, 0x97, 0xFF, 0x83, 0xC4, 0x0C, 0x8B, 0x55, 0xFC, 0x6A, 0x00,
                    0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x04, 0x8D, 0x4D, 0xF8, 0x51, 0x52, 0xE8, 0x70, 0x52, 0x62, 0xFF,
                    0x85, 0xC0, 0x75, 0x18, 0xE8, 0x77, 0xFE, 0xFF, 0xFF, 0x50, 0x68, 0x94, 0x25, 0x9E, 0x00, 0x68,
                    0x79, 0x00, 0x10, 0x85, 0xE8, 0xA7, 0x57, 0x97, 0xFF, 0x83, 0xC4, 0x0C, 0x81, 0x7D, 0xF8, 0x57,
                    0x44, 0x42, 0x43, 0x74, 0x1C, 0xE8, 0x56, 0xFE, 0xFF, 0xFF, 0x50, 0x8B, 0x45, 0xF8, 0x50, 0x68,
                    0x74, 0x25, 0x9E, 0x00, 0x68, 0x79, 0x00, 0x10, 0x85, 0xE8, 0x82, 0x57, 0x97, 0xFF, 0x83, 0xC4,
                    0x10, 0x8B, 0x4D, 0xFC, 0x57, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x04, 0x8D, 0x7E, 0x08,
                    0x57, 0x51, 0xE8, 0x19, 0x52, 0x62, 0xFF, 0x85, 0xC0, 0x75, 0x18, 0xE8, 0x20, 0xFE, 0xFF, 0xFF,
                    0x50, 0x68, 0x50, 0x25, 0x9E, 0x00, 0x68, 0x79, 0x00, 0x10, 0x85, 0xE8, 0x50, 0x57, 0x97, 0xFF,
                    0x83, 0xC4, 0x0C, 0x83, 0x3F, 0x00, 0x75, 0x11, 0x8B, 0x55, 0xFC, 0x52, 0xE8, 0xCF, 0x55, 0x62,
                    0xFF, 0x5F, 0x5E, 0x8B, 0xE5, 0x5D, 0xC2, 0x08, 0x00, 0x8B, 0x4D, 0xFC, 0x6A, 0x00, 0x6A, 0x00,
                    0x6A, 0x00, 0x6A, 0x04, 0x8D, 0x45, 0xF0, 0x50, 0x51, 0xE8, 0xD2, 0x51, 0x62, 0xFF, 0x85, 0xC0,
                    0x75, 0x18, 0xE8, 0xD9, 0xFD, 0xFF, 0xFF, 0x50, 0x68, 0x2C, 0x25, 0x9E, 0x00, 0x68, 0x79, 0x00,
                    0x10, 0x85, 0xE8, 0x09, 0x57, 0x97, 0xFF, 0x83, 0xC4, 0x0C, 0x8B, 0x45, 0xF0, 0x83, 0xF8, 0x04,
                    0x74, 0x1B, 0x6A, 0x04, 0x50, 0xE8, 0xB6, 0xFD, 0xFF, 0xFF, 0x50, 0x68, 0xF4, 0x24, 0x9E, 0x00,
                    0x68, 0x79, 0x00, 0x10, 0x85, 0xE8, 0xE6, 0x56, 0x97, 0xFF, 0x8C, 0xC4, 0x14, 0x8B, 0x45, 0xFC,
                    0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x04, 0x8D, 0x55, 0xEC, 0x52, 0x50, 0xE8, 0x7E, 0x51,
                    0x62, 0xFF, 0x85, 0xC0, 0x75, 0x18, 0xE8, 0x85, 0xFD, 0xFF, 0xFF, 0x50, 0x68, 0xD4, 0x24, 0x9E,
                    0x00, 0x68, 0x79, 0x00, 0x10, 0x85, 0xE8, 0xB5, 0x56, 0x97, 0xFF, 0x83, 0xC4, 0x0C, 0x8B, 0x45,
                    0xEC, 0x83, 0xF8, 0x10, 0x74, 0x1B, 0x6A, 0x10, 0x50, 0xE8, 0x62, 0xFD, 0xFF, 0xFF, 0x50, 0x68,
                    0xA4, 0x24, 0x9E, 0x00, 0x68, 0x79, 0x00, 0x10, 0x85, 0xE8, 0x92, 0x56, 0x97, 0xFF, 0x83, 0xC4,
                    0x14, 0x8B, 0x55, 0xFC, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x04, 0x8D, 0x4D, 0xF4, 0x51,
                    0x52, 0xE8, 0x2A, 0x51, 0x62, 0xFF, 0x85, 0xC0, 0x75, 0x18, 0xE8, 0x31, 0xFD, 0xFF, 0xFF, 0x50,
                    0x68, 0x80, 0x24, 0x9E, 0x00, 0x68, 0x79, 0x00, 0x10, 0x85, 0xE8, 0x61, 0x56, 0x97, 0xFF, 0x83,
                    0xC4, 0x0C, 0x8B, 0x7D, 0x0C, 0x8B, 0x45, 0xF4, 0x53, 0x8B, 0x5D, 0x08, 0x6A, 0x00, 0x57, 0x53,
                    0x50, 0xE8, 0x0A, 0x11, 0x97, 0xFF, 0x8B, 0x16, 0x8B, 0x52, 0x0C, 0x57, 0x89, 0x46, 0x14, 0x8B,
                    0x45, 0xFC, 0x53, 0x50, 0x8B, 0xCE, 0xC7, 0x46, 0x0C, 0x00, 0x00, 0x00, 0x00, 0xC7, 0x46, 0x10,
                    0xFF, 0xFF, 0xFF, 0x0F, 0xFF, 0xD2, 0x8B, 0x45, 0xF4, 0x8B, 0x4E, 0x14, 0x8B, 0x55, 0xFC, 0x6A,
                    0x00, 0x6A, 0x00, 0x6A, 0x00, 0x50, 0x51, 0x52, 0xE8, 0xC3, 0x50, 0x62, 0xFF, 0x85, 0xC0, 0x5B,
                    0x75, 0x13, 0xE8, 0xC9, 0xFC, 0xFF, 0xFF, 0x50, 0x68, 0x60, 0x24, 0x9E, 0x00, 0xE8, 0x1E, 0x56,
                    0x97, 0xFF, 0x83, 0xC4, 0x08, 0x8B, 0x45, 0xFC, 0x50, 0xE8, 0x82, 0x54, 0x62, 0xFF, 0x5F, 0xC7,
                    0x46, 0x04, 0x01, 0x00, 0x00, 0x00, 0x5E, 0x8B, 0xE5, 0x5D, 0xC2, 0x08, 0x00
                ]],
                [0x7580A0, [
                    0x55, 0x8B, 0xEC, 0x83, 0xEC, 0x08, 0x53, 0x56, 0x57, 0x8B, 0x7D, 0x08, 0x6A, 0x00, 0x6A, 0x00,
                    0x6A, 0x00, 0x6A, 0x04, 0x8B, 0xF1, 0x56, 0x57, 0xE8, 0x73, 0x50, 0x62, 0xFF, 0x6A, 0x00, 0x6A,
                    0x00, 0x6A, 0x00, 0x8B, 0xD8, 0x6A, 0x04, 0x8D, 0x45, 0xF8, 0x50, 0x57, 0xE8, 0x5F, 0x50, 0x62,
                    0xFF, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x04, 0x8D, 0x4E, 0x08, 0x51, 0x57, 0x89, 0x45,
                    0xFC, 0xE8, 0x4A, 0x50, 0x62, 0xFF, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x00, 0x6A, 0x04, 0x8D, 0x56,
                    0x0C, 0x52, 0x57, 0x89, 0x45, 0x08, 0xE8, 0x35, 0x50, 0x62, 0xFF, 0xF7, 0xD8, 0x1B, 0xC0, 0x33,
                    0xC9, 0x83, 0xC0, 0x01, 0x39, 0x4D, 0x08, 0x0F, 0x94, 0xC1, 0x33, 0xD2, 0x0B, 0xC1, 0x39, 0x55,
                    0xFC, 0x0F, 0x94, 0xC2, 0x33, 0xC9, 0x0B, 0xC2, 0x85, 0xDB, 0x0F, 0x94, 0xC1, 0x0B, 0xC1, 0x74,
                    0x0B, 0x5F, 0x5E, 0x32, 0xC0, 0x5B, 0x8B, 0xE5, 0x5D, 0xC2, 0x08, 0x00, 0x8B, 0x45, 0x0C, 0x85,
                    0xC0, 0x74, 0x13, 0x8B, 0x55, 0xF8, 0x03, 0xD0, 0x5F, 0x89, 0x56, 0x04, 0x5E, 0xB0, 0x01, 0x5B,
                    0x8B, 0xE5, 0x5D, 0xC2, 0x08, 0x00, 0x5F, 0xC7, 0x46, 0x04, 0xFF, 0x14, 0x9E, 0x00, 0x5E, 0xB0,
                    0x01, 0x5B, 0x8B, 0xE5, 0x5D, 0xC2, 0x08, 0x00
                ]],
                // tooltip patch (again :P)
                [0x758160, [
                    0x83, 0xC4, 0x14, 0xEB, 0x08, 0xE8, 0x06, 0x1B, 0x97, 0xFF, 0x83, 0xC4, 0x10, 0x8B, 0x85, 0x78,
                    0xFB, 0xFF, 0xFF, 0x8B, 0x0D, 0x10, 0x20, 0xE0, 0x00, 0x3B, 0xC1, 0x0F, 0x8C, 0x5D, 0x69, 0x82,
                    0xFF, 0x3B, 0x05, 0x0C, 0x20, 0xE0, 0x00, 0x0F, 0x8F, 0x51, 0x69, 0x82, 0xFF, 0x8B, 0x15, 0x20,
                    0x20, 0xE0, 0x00, 0x2B, 0xC1, 0x8B, 0x34, 0x82, 0x85, 0xF6, 0x0F, 0x84, 0x3E, 0x69, 0x82, 0xFF,
                    0x83, 0x7E, 0x08, 0x00, 0x0F, 0x84, 0x34, 0x69, 0x82, 0xFF, 0x68, 0xFF, 0xFF, 0xFF, 0x7F, 0x68,
                    0x50, 0x42, 0x9E, 0x00, 0x8D, 0x85, 0x20, 0xFF, 0xFF, 0xFF, 0x50, 0xE8, 0xB0, 0x19, 0x97, 0xFF,
                    0x8B, 0x46, 0x08, 0x50, 0x6A, 0x00, 0x6A, 0xFF, 0x68, 0x60, 0x10, 0xE0, 0x00, 0xE8, 0x6E, 0xC7,
                    0xA1, 0xFF, 0x83, 0xC4, 0x0C, 0x50, 0x8D, 0x85, 0xA0, 0xFE, 0xFF, 0xFF, 0x68, 0x80, 0x00, 0x00,
                    0x00, 0x50, 0xE8, 0x89, 0x1A, 0x97, 0xFF, 0x83, 0xC4, 0x10, 0x68, 0xFF, 0xFF, 0xFF, 0x7F, 0x8D,
                    0x8D, 0xA0, 0xFE, 0xFF, 0xFF, 0x51, 0x8D, 0x95, 0x20, 0xFF, 0xFF, 0xFF, 0x52, 0xE8, 0x6E, 0x19,
                    0x97, 0xFF, 0x8B, 0x46, 0x04, 0x50, 0x6A, 0x00, 0x6A, 0xFF, 0x68, 0x70, 0x10, 0xE0, 0x00, 0xE8,
                    0x2C, 0xC7, 0xA1, 0xFF, 0x83, 0xC4, 0x0C, 0x50, 0x8D, 0x85, 0xA0, 0xFE, 0xFF, 0xFF, 0x68, 0x80,
                    0x00, 0x00, 0x00, 0x50, 0xE8, 0x47, 0x1A, 0x97, 0xFF, 0x83, 0xC4, 0x10, 0x68, 0xFF, 0xFF, 0xFF,
                    0x7F, 0x8D, 0x8D, 0xA0, 0xFE, 0xFF, 0xFF, 0x51, 0x8D, 0x95, 0x20, 0xFF, 0xFF, 0xFF, 0x52, 0xE8,
                    0x2C, 0x19, 0x97, 0xFF, 0x83, 0x7E, 0x0C, 0x01, 0x0F, 0x85, 0x90, 0x68, 0x82, 0xFF, 0x83, 0x7E,
                    0x08, 0x01, 0x0F, 0x84, 0x86, 0x68, 0x82, 0xFF, 0x68, 0xFF, 0xFF, 0xFF, 0x7F, 0x68, 0x54, 0x42,
                    0x9E, 0x00, 0x8D, 0x85, 0x20, 0xFF, 0xFF, 0xFF, 0x50, 0xE8, 0x02, 0x19, 0x97, 0xFF, 0xE9, 0x6B,
                    0x68, 0x82, 0xFF, 0x8B, 0x85, 0x78, 0xFB, 0xFF, 0xFF, 0x8B, 0x0D, 0x10, 0x20, 0xE0, 0x00, 0x3B,
                    0xC1, 0x0F, 0x8C, 0x57, 0x68, 0x82, 0xFF, 0x3B, 0x05, 0x0C, 0x20, 0xE0, 0x00, 0x0F, 0x8F, 0x4B,
                    0x68, 0x82, 0xFF, 0x8B, 0x15, 0x20, 0x20, 0xE0, 0x00, 0x2B, 0xC1, 0x8B, 0x34, 0x82, 0x85, 0xF6,
                    0x0F, 0x84, 0x38, 0x68, 0x82, 0xFF, 0x83, 0x7E, 0x08, 0x00, 0x0F, 0x84, 0x2E, 0x68, 0x82, 0xFF,
                    0xE9, 0x0B, 0xFF, 0xFF, 0xFF
                ]],
                // data
                [0x75BC00, [
                    0x30, 0xD0, 0xDF, 0x00, 0x90, 0xC2, 0x65, 0x00, 0x80, 0xD0, 0xDF, 0x00, 0x50, 0xD2, 0xDF, 0x00,
                    0x10, 0x3A, 0x65, 0x00, 0x50, 0xD1, 0xDF, 0x00, 0x40, 0xD0, 0xDF, 0x00, 0xD0, 0xD0, 0xDF, 0x00,
                    0x00, 0x6C, 0x63, 0x00, 0x70, 0x24, 0x66
                ]],
                [0x75BC30, [
                    0x44, 0x42, 0x46, 0x69, 0x6C, 0x65, 0x73, 0x43, 0x6C, 0x69, 0x65, 0x6E, 0x74, 0x5C, 0x53, 0x70,
                    0x65, 0x6C, 0x6C, 0x41, 0x64, 0x64, 0x69, 0x74, 0x69, 0x6F, 0x6E, 0x61, 0x6C, 0x43, 0x6F, 0x73,
                    0x74, 0x44, 0x61, 0x74, 0x61, 0x2E, 0x64, 0x62, 0x63
                ]],
                [0x75BC60, [0x50, 0x4F, 0x57, 0x45, 0x52, 0x5F, 0x4E, 0x55, 0x4D, 0x42, 0x45, 0x52]],
                [0x75BC70, [0x50, 0x4F, 0x57, 0x45, 0x52, 0x5F, 0x53, 0x54, 0x52, 0x49, 0x4E, 0x47]],
                [0x75CC00, [0x08, 0x10, 0xE0]],
                [0x75CC0C, [0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x0F]],
                [0x75CC18, [0x00, 0x10, 0xE0]]
            ])*/
        ]
}
